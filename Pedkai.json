{"openapi":"3.1.0","info":{"title":"Pedkai","description":"Decision intelligence and automation for large-scale telcos","version":"0.1.0"},"paths":{"/health":{"get":{"tags":["Health"],"summary":"Health Check","description":"Basic health check endpoint.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ready":{"get":{"tags":["Health"],"summary":"Readiness Check","description":"Readiness check - verify dependencies are available.\nFails if critical dependencies (DB) are down.","operationId":"readiness_check_ready_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/auth/token":{"post":{"tags":["Authentication"],"summary":"Login For Access Token","description":"Standard OAuth2 /token endpoint to exchange credentials for a JWT.","operationId":"login_for_access_token_api_v1_auth_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_for_access_token_api_v1_auth_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Login For Access Token Api V1 Auth Token Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/decisions/":{"post":{"tags":["Decisions"],"summary":"Create Decision Trace","description":"Create a new decision trace.\n\nCaptures the full reasoning chain for a decision:\n- Context available at decision time\n- Constraints that were binding\n- Options that were considered\n- The tradeoff made and why","operationId":"create_decision_trace_api_v1_decisions__post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DecisionTraceCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DecisionTrace"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Decisions"],"summary":"List Decision Traces","description":"List decision traces with filtering.\n\nReturns decisions for a specific tenant, optionally filtered by domain\nand trigger type.","operationId":"list_decision_traces_api_v1_decisions__get","parameters":[{"name":"tenant_id","in":"query","required":true,"schema":{"type":"string","title":"Tenant Id"}},{"name":"domain","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Domain"}},{"name":"trigger_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trigger Type"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DecisionTrace"},"title":"Response List Decision Traces Api V1 Decisions  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/decisions/search":{"get":{"tags":["Decisions"],"summary":"Search Decisions","description":"Search for similar decisions using semi-natural language.\n\nConvenience endpoint for simple semantic search.\nDefault search is 'global' across all tenants for the operator view.\nThreshold is 0.0 by default to always return the most relevant matches.","operationId":"search_decisions_api_v1_decisions_search_get","parameters":[{"name":"q","in":"query","required":true,"schema":{"type":"string","minLength":3,"title":"Q"}},{"name":"tenant_id","in":"query","required":false,"schema":{"type":"string","default":"global","title":"Tenant Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":20,"minimum":1,"default":5,"title":"Limit"}},{"name":"min_similarity","in":"query","required":false,"schema":{"type":"number","maximum":1.0,"minimum":0.0,"default":0.9,"title":"Min Similarity"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DecisionTrace"},"title":"Response Search Decisions Api V1 Decisions Search Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/decisions/{decision_id}":{"patch":{"tags":["Decisions"],"summary":"Update Decision Trace","description":"Update a decision trace.\n\nPrimarily used to record the outcome after the action was taken.","operationId":"update_decision_trace_api_v1_decisions__decision_id__patch","parameters":[{"name":"decision_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Decision Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DecisionTraceUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DecisionTrace"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Decisions"],"summary":"Get Decision Trace","description":"Get a decision trace by ID.","operationId":"get_decision_trace_api_v1_decisions__decision_id__get","parameters":[{"name":"decision_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Decision Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DecisionTrace"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/decisions/similar":{"post":{"tags":["Decisions"],"summary":"Find Similar Decisions","description":"Find similar past decisions based on context.\n\nThis is the core \"Have we seen this before?\" query that enables\nlearning from past decisions.\n\nUses pgvector for semantic similarity when database is configured.","operationId":"find_similar_decisions_api_v1_decisions_similar_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SimilarDecisionQuery"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/DecisionTrace"},"type":"array","title":"Response Find Similar Decisions Api V1 Decisions Similar Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/decisions/{decision_id}/outcome":{"post":{"tags":["Decisions"],"summary":"Record Outcome","description":"Record the outcome of a decision.\n\nThis closes the feedback loop - we learn what worked and what didn't.","operationId":"record_outcome_api_v1_decisions__decision_id__outcome_post","parameters":[{"name":"decision_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Decision Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DecisionOutcomeRecord"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DecisionTrace"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/decisions/{decision_id}/upvote":{"post":{"tags":["Decisions"],"summary":"Upvote Decision","description":"Mark a decision as helpful.\n\nFinding #4: Multi-operator aggregation prevents gaming.","operationId":"upvote_decision_api_v1_decisions__decision_id__upvote_post","parameters":[{"name":"decision_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Decision Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Upvote Decision Api V1 Decisions  Decision Id  Upvote Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/decisions/{decision_id}/downvote":{"post":{"tags":["Decisions"],"summary":"Downvote Decision","description":"Mark a decision as unhelpful or incorrect.\n\nFinding #4: Negative feedback penalizes this decision in future similarity searches.","operationId":"downvote_decision_api_v1_decisions__decision_id__downvote_post","parameters":[{"name":"decision_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Decision Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Downvote Decision Api V1 Decisions  Decision Id  Downvote Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tmf-api/alarmManagement/v4/alarm":{"get":{"tags":["TMF642 Alarm Management"],"summary":"List Alarms","description":"List alarms with TMF filters.","operationId":"list_alarms_tmf_api_alarmManagement_v4_alarm_get","security":[{"OAuth2PasswordBearer":["tmf642:alarm:read"]}],"parameters":[{"name":"alarmType","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/AlarmType"},{"type":"null"}],"title":"Alarmtype"}},{"name":"perceivedSeverity","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/PerceivedSeverity"},{"type":"null"}],"title":"Perceivedseverity"}},{"name":"state","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/AlarmState"},{"type":"null"}],"title":"State"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TMF642Alarm"},"title":"Response List Alarms Tmf Api Alarmmanagement V4 Alarm Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["TMF642 Alarm Management"],"summary":"Create Alarm","description":"Ingress endpoint for legacy NMS tools (Strategic Review GAP 1).\nConverts TMF payload to Pedkai event and publishes to Kafka.","operationId":"create_alarm_tmf_api_alarmManagement_v4_alarm_post","security":[{"OAuth2PasswordBearer":["tmf642:alarm:write"]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TMF642Alarm"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tmf-api/alarmManagement/v4/alarm/{id}":{"get":{"tags":["TMF642 Alarm Management"],"summary":"Get Alarm","description":"Retrieve a single alarm by ID.","operationId":"get_alarm_tmf_api_alarmManagement_v4_alarm__id__get","security":[{"OAuth2PasswordBearer":["tmf642:alarm:read"]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TMF642Alarm"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["TMF642 Alarm Management"],"summary":"Update Alarm","description":"Update alarm state (acknowledge, clear).","operationId":"update_alarm_tmf_api_alarmManagement_v4_alarm__id__patch","security":[{"OAuth2PasswordBearer":["tmf642:alarm:write"]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TMF642AlarmUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TMF642Alarm"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tmf-api/performanceManagement/v4/performanceMeasurement":{"get":{"tags":["TMF628 Performance Management"],"summary":"List Measurements","description":"List performance measurements with TMF-compliant filtering.\nNote: We reuse tmf642:alarm:read scope for general monitoring read access.","operationId":"list_measurements_tmf_api_performanceManagement_v4_performanceMeasurement_get","security":[{"OAuth2PasswordBearer":["tmf642:alarm:read"]}],"parameters":[{"name":"entity_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Entity Id"}},{"name":"metric_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metric Name"}},{"name":"start_time","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Time"}},{"name":"end_time","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Time"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PerformanceMeasurement"},"title":"Response List Measurements Tmf Api Performancemanagement V4 Performancemeasurement Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tmf-api/performanceManagement/v4/performanceIndicatorSpecification":{"get":{"tags":["TMF628 Performance Management"],"summary":"List Indicator Specs","description":"List available KPI types (Static catalog for MVP).","operationId":"list_indicator_specs_tmf_api_performanceManagement_v4_performanceIndicatorSpecification_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PerformanceIndicatorSpecification"},"type":"array","title":"Response List Indicator Specs Tmf Api Performancemanagement V4 Performanceindicatorspecification Get"}}}}},"security":[{"OAuth2PasswordBearer":["tmf642:alarm:read"]}]}},"/api/v1/capacity/":{"get":{"tags":["Capacity Planning"],"summary":"List Densification Requests","description":"List all regional densification requests.","operationId":"list_densification_requests_api_v1_capacity__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/DensificationSchema"},"type":"array","title":"Response List Densification Requests Api V1 Capacity  Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Capacity Planning"],"summary":"Create Densification Request","description":"Launch a new regional densification optimization.","operationId":"create_densification_request_api_v1_capacity__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DensificationCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DensificationSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/capacity/{request_id}/plan":{"get":{"tags":["Capacity Planning"],"summary":"Get Investment Plan","description":"Retrieve the optimized investment plan for a request.","operationId":"get_investment_plan_api_v1_capacity__request_id__plan_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Request Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvestmentPlanSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/cx/impact/{anomaly_id}":{"get":{"tags":["Customer Experience"],"summary":"Get Cx Impact Analysis","description":"Identify high-risk customers impacted by a specific network anomaly.","operationId":"get_cx_impact_analysis_api_v1_cx_impact__anomaly_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"anomaly_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Anomaly Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CXImpactAnalysis"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/cx/proactive-care/{anomaly_id}":{"post":{"tags":["Customer Experience"],"summary":"Trigger Proactive Care","description":"Trigger proactive care automation for all high-risk customers impacted by an anomaly.","operationId":"trigger_proactive_care_api_v1_cx_proactive_care__anomaly_id__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"anomaly_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Anomaly Id"}}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProactiveCareSchema"},"title":"Response Trigger Proactive Care Api V1 Cx Proactive Care  Anomaly Id  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"Root endpoint.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AckState":{"type":"string","enum":["acknowledged","unacknowledged"],"title":"AckState","description":"TMF642 Acknowledge State"},"AlarmState":{"type":"string","enum":["raised","updated","cleared"],"title":"AlarmState","description":"TMF642 Alarm State"},"AlarmType":{"type":"string","enum":["communicationsAlarm","qualityOfServiceAlarm","processingErrorAlarm","environmentalAlarm","equipmentAlarm"],"title":"AlarmType","description":"TMF642 Alarm Type (ITU-T X.733)"},"Body_login_for_access_token_api_v1_auth_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","format":"password","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"format":"password","title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_for_access_token_api_v1_auth_token_post"},"CXImpactAnalysis":{"properties":{"anomaly_id":{"type":"string","format":"uuid","title":"Anomaly Id"},"impacted_customers":{"items":{"$ref":"#/components/schemas/CustomerSchema"},"type":"array","title":"Impacted Customers"},"total_high_risk_count":{"type":"integer","title":"Total High Risk Count"}},"type":"object","required":["anomaly_id","impacted_customers","total_high_risk_count"],"title":"CXImpactAnalysis"},"Constraint":{"properties":{"type":{"$ref":"#/components/schemas/ConstraintType"},"description":{"type":"string","title":"Description"},"severity":{"type":"string","title":"Severity","description":"How binding: hard, soft, preference"},"value":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Value"}},"type":"object","required":["type","description","severity"],"title":"Constraint","description":"A constraint that was binding during the decision."},"ConstraintType":{"type":"string","enum":["sla","regulatory","capacity","maintenance_window","cost","risk","operational"],"title":"ConstraintType","description":"Types of constraints that can bind a decision."},"CustomerSchema":{"properties":{"external_id":{"type":"string","title":"External Id"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"churn_risk_score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Churn Risk Score","default":0.0},"associated_site_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Associated Site Id"},"id":{"type":"string","format":"uuid","title":"Id"},"tenant_id":{"type":"string","title":"Tenant Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["external_id","id","tenant_id","created_at"],"title":"CustomerSchema"},"DecisionContext":{"properties":{"alarm_ids":{"items":{"type":"string"},"type":"array","title":"Alarm Ids"},"ticket_ids":{"items":{"type":"string"},"type":"array","title":"Ticket Ids"},"affected_entities":{"items":{"type":"string"},"type":"array","title":"Affected Entities","description":"Cell sites, devices, services affected"},"kpi_snapshot":{"anyOf":[{"$ref":"#/components/schemas/KPISnapshot"},{"type":"null"}]},"related_decision_ids":{"items":{"type":"string","format":"uuid"},"type":"array","title":"Related Decision Ids","description":"Previous decisions that informed this one"},"external_context":{"additionalProperties":true,"type":"object","title":"External Context","description":"Weather, events, maintenance schedules, etc."}},"type":"object","title":"DecisionContext","description":"The context available when the decision was made."},"DecisionOutcome":{"type":"string","enum":["success","partial","failure","pending"],"title":"DecisionOutcome","description":"Outcome status of a decision."},"DecisionOutcomeRecord":{"properties":{"status":{"$ref":"#/components/schemas/DecisionOutcome"},"resolution_time_minutes":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Resolution Time Minutes"},"customer_impact_count":{"type":"integer","title":"Customer Impact Count","default":0},"sla_violated":{"type":"boolean","title":"Sla Violated","default":false},"actual_vs_expected":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Actual Vs Expected"},"follow_up_required":{"type":"boolean","title":"Follow Up Required","default":false},"learnings":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Learnings","description":"What we learned that can inform future decisions"}},"type":"object","required":["status"],"title":"DecisionOutcomeRecord","description":"The outcome of the decision after execution."},"DecisionTrace":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"tenant_id":{"type":"string","title":"Tenant Id","description":"Multi-tenant isolation"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"decision_made_at":{"type":"string","format":"date-time","title":"Decision Made At"},"trigger_type":{"type":"string","title":"Trigger Type","description":"alarm, ticket, scheduled, manual"},"trigger_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trigger Id"},"trigger_description":{"type":"string","title":"Trigger Description"},"context":{"$ref":"#/components/schemas/DecisionContext"},"constraints":{"items":{"$ref":"#/components/schemas/Constraint"},"type":"array","title":"Constraints"},"options_considered":{"items":{"$ref":"#/components/schemas/Option"},"type":"array","title":"Options Considered"},"decision_summary":{"type":"string","title":"Decision Summary","description":"Plain English description of what was decided"},"tradeoff_rationale":{"type":"string","title":"Tradeoff Rationale","description":"Why this option was chosen over others"},"action_taken":{"type":"string","title":"Action Taken","description":"Specific action executed"},"decision_maker":{"type":"string","title":"Decision Maker","description":"human:<user_id>, system:pedkai, or hybrid"},"confidence_score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Confidence Score","description":"For AI-assisted decisions","default":0.0},"outcome":{"anyOf":[{"$ref":"#/components/schemas/DecisionOutcomeRecord"},{"type":"null"}]},"embedding":{"anyOf":[{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Embedding","description":"Vector embedding for semantic search"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"domain":{"type":"string","title":"Domain","description":"anops, capacity, customer_experience, etc.","default":"network_ops"},"parent_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Parent Id","description":"ID of the parent decision in the reasoning chain"},"derivation_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Derivation Type","description":"Type of derivation: FOLLOW_UP, DIRECT_CAUSE, SIMILAR_PATTERN"},"ack_state":{"type":"string","title":"Ack State","description":"unacknowledged or acknowledged","default":"unacknowledged"},"external_correlation_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Correlation Id","description":"Vendor-provided correlation ID"},"internal_correlation_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Internal Correlation Id","description":"Pedkai RCA-calculated correlation ID"},"probable_cause":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Probable Cause","description":"TMF enumerated cause"}},"type":"object","required":["tenant_id","trigger_type","trigger_description","context","decision_summary","tradeoff_rationale","action_taken","decision_maker"],"title":"DecisionTrace","description":"Core Decision Trace model - the heart of the Context Graph.\n\nCaptures the full reasoning chain for every significant decision:\n- WHY was this decision made?\n- WHAT evidence was consulted?\n- WHAT constraints were binding?\n- WHAT options were considered?\n- WHAT tradeoff was made?\n- WHAT was the outcome?\n\nThis is NOT a graph database record - it's a structured document\nthat stores decision memory in PostgreSQL with JSONB.","example":{"action_taken":"Executed traffic steering to Cell-ABC","confidence_score":0.87,"constraints":[{"description":"Enterprise customer 99.99% uptime","severity":"hard","type":"sla"}],"context":{"affected_entities":["cell-xyz","enodeb-123"],"alarm_ids":["ALM-2024-0001","ALM-2024-0002"],"kpi_snapshot":{"latency_ms":23.0,"packet_loss_pct":5.2,"throughput_mbps":45.2}},"decision_maker":"system:pedkai","decision_summary":"Execute failover to adjacent cell","domain":"anops","id":"550e8400-e29b-41d4-a716-446655440000","options_considered":[{"description":"Restart baseband unit","estimated_impact":"Full resolution","id":"opt-1","rejection_reason":"SLA violation risk","risk_assessment":"5 minute outage","was_chosen":false},{"description":"Failover to adjacent cell","estimated_impact":"Immediate mitigation","id":"opt-2","risk_assessment":"Capacity strain on neighbor","was_chosen":true}],"outcome":{"customer_impact_count":0,"learnings":"Failover effective when neighbor <70% loaded","resolution_time_minutes":12,"sla_violated":false,"status":"success"},"tags":["ran","packet-loss","failover"],"tenant_id":"vodafone-uk","tradeoff_rationale":"Avoid SLA violation; neighbor at 68% capacity can absorb load","trigger_description":"High packet loss on Cell-XYZ","trigger_id":"ALM-2024-0001","trigger_type":"alarm"}},"DecisionTraceCreate":{"properties":{"tenant_id":{"type":"string","title":"Tenant Id"},"trigger_type":{"type":"string","title":"Trigger Type"},"trigger_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trigger Id"},"trigger_description":{"type":"string","title":"Trigger Description"},"context":{"$ref":"#/components/schemas/DecisionContext"},"constraints":{"items":{"$ref":"#/components/schemas/Constraint"},"type":"array","title":"Constraints"},"options_considered":{"items":{"$ref":"#/components/schemas/Option"},"type":"array","title":"Options Considered"},"decision_summary":{"type":"string","title":"Decision Summary"},"tradeoff_rationale":{"type":"string","title":"Tradeoff Rationale"},"action_taken":{"type":"string","title":"Action Taken"},"decision_maker":{"type":"string","title":"Decision Maker"},"confidence_score":{"type":"number","title":"Confidence Score","default":0.0},"domain":{"type":"string","title":"Domain","default":"anops"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"parent_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Parent Id"},"derivation_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Derivation Type"}},"type":"object","required":["tenant_id","trigger_type","trigger_description","context","decision_summary","tradeoff_rationale","action_taken","decision_maker"],"title":"DecisionTraceCreate","description":"Schema for creating a new decision trace."},"DecisionTraceUpdate":{"properties":{"outcome":{"anyOf":[{"$ref":"#/components/schemas/DecisionOutcomeRecord"},{"type":"null"}]},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"},"parent_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Parent Id"},"derivation_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Derivation Type"}},"type":"object","title":"DecisionTraceUpdate","description":"Schema for updating a decision trace (mainly for outcome)."},"DensificationCreate":{"properties":{"region_name":{"type":"string","title":"Region Name"},"budget_limit":{"type":"number","title":"Budget Limit"},"target_kpi":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Target Kpi","default":"prb_utilization"},"parameters":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Parameters"}},"type":"object","required":["region_name","budget_limit"],"title":"DensificationCreate"},"DensificationSchema":{"properties":{"region_name":{"type":"string","title":"Region Name"},"budget_limit":{"type":"number","title":"Budget Limit"},"target_kpi":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Target Kpi","default":"prb_utilization"},"parameters":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Parameters"},"id":{"type":"string","format":"uuid","title":"Id"},"tenant_id":{"type":"string","title":"Tenant Id"},"status":{"type":"string","title":"Status"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["region_name","budget_limit","id","tenant_id","status","created_at"],"title":"DensificationSchema"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"InvestmentPlanSchema":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"request_id":{"type":"string","format":"uuid","title":"Request Id"},"total_estimated_cost":{"type":"number","title":"Total Estimated Cost"},"expected_kpi_improvement":{"type":"number","title":"Expected Kpi Improvement"},"rationale":{"type":"string","title":"Rationale"},"site_placements":{"items":{"$ref":"#/components/schemas/SitePlacement"},"type":"array","title":"Site Placements"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","request_id","total_estimated_cost","expected_kpi_improvement","rationale","site_placements","created_at"],"title":"InvestmentPlanSchema"},"KPISnapshot":{"properties":{"throughput_mbps":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Throughput Mbps"},"latency_ms":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latency Ms"},"packet_loss_pct":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Packet Loss Pct"},"availability_pct":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Availability Pct"},"cpu_utilization_pct":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Cpu Utilization Pct"},"memory_utilization_pct":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Memory Utilization Pct"},"custom_metrics":{"additionalProperties":true,"type":"object","title":"Custom Metrics"}},"type":"object","title":"KPISnapshot","description":"Point-in-time snapshot of relevant KPIs."},"Option":{"properties":{"id":{"type":"string","title":"Id"},"description":{"type":"string","title":"Description"},"risk_assessment":{"type":"string","title":"Risk Assessment"},"estimated_impact":{"type":"string","title":"Estimated Impact"},"was_chosen":{"type":"boolean","title":"Was Chosen","default":false},"rejection_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rejection Reason"}},"type":"object","required":["id","description","risk_assessment","estimated_impact"],"title":"Option","description":"An option that was considered during the decision."},"PerceivedSeverity":{"type":"string","enum":["critical","major","minor","warning","indeterminate","cleared"],"title":"PerceivedSeverity","description":"TMF642 Perceived Severity (ITU-T X.733)"},"PerformanceIndicatorSpecification":{"properties":{"id":{"type":"string","title":"Id"},"href":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Href"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"unitOfMeasure":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Unitofmeasure"},"@type":{"type":"string","title":"@Type","default":"PerformanceIndicatorSpecification"}},"type":"object","required":["id","name"],"title":"PerformanceIndicatorSpecification","description":"TMF628 Performance Indicator Specification (v4.0.0)\nDescribes a type of metric (e.g., 'Throughput')."},"PerformanceIndicatorSpecificationRef":{"properties":{"id":{"type":"string","title":"Id"},"href":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Href"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},"type":"object","required":["id"],"title":"PerformanceIndicatorSpecificationRef","description":"Reference to a performance indicator specification."},"PerformanceMeasurement":{"properties":{"id":{"type":"string","title":"Id"},"href":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Href"},"observationTime":{"type":"string","format":"date-time","title":"Observationtime"},"measurementValue":{"anyOf":[{"type":"number"},{"type":"integer"},{"type":"string"}],"title":"Measurementvalue"},"performanceIndicatorSpecification":{"$ref":"#/components/schemas/PerformanceIndicatorSpecificationRef"},"@type":{"type":"string","title":"@Type","default":"PerformanceMeasurement"}},"type":"object","required":["id","observationTime","measurementValue","performanceIndicatorSpecification"],"title":"PerformanceMeasurement","description":"TMF628 Performance Measurement (v4.0.0)\nRepresents an individual KPI data point."},"ProactiveCareSchema":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"customer_id":{"type":"string","format":"uuid","title":"Customer Id"},"anomaly_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Anomaly Id"},"channel":{"type":"string","title":"Channel"},"status":{"type":"string","title":"Status"},"message_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message Content"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","customer_id","channel","status","created_at"],"title":"ProactiveCareSchema"},"SimilarDecisionQuery":{"properties":{"tenant_id":{"type":"string","title":"Tenant Id"},"current_context":{"$ref":"#/components/schemas/DecisionContext"},"domain":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Domain"},"min_similarity":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Min Similarity","default":0.7},"limit":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Limit","default":5}},"type":"object","required":["tenant_id","current_context"],"title":"SimilarDecisionQuery","description":"Query for finding similar past decisions."},"SitePlacement":{"properties":{"name":{"type":"string","title":"Name"},"lat":{"type":"number","title":"Lat"},"lon":{"type":"number","title":"Lon"},"cost":{"type":"number","title":"Cost"},"backhaul":{"type":"string","title":"Backhaul"}},"type":"object","required":["name","lat","lon","cost","backhaul"],"title":"SitePlacement"},"TMF642Alarm":{"properties":{"id":{"type":"string","title":"Id"},"href":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Href"},"alarmType":{"$ref":"#/components/schemas/AlarmType"},"perceivedSeverity":{"$ref":"#/components/schemas/PerceivedSeverity"},"probableCause":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Probablecause"},"specificProblem":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Specificproblem"},"state":{"$ref":"#/components/schemas/AlarmState"},"ackState":{"$ref":"#/components/schemas/AckState"},"eventTime":{"type":"string","format":"date-time","title":"Eventtime"},"raisedTime":{"type":"string","format":"date-time","title":"Raisedtime"},"reportingSystemId":{"type":"string","title":"Reportingsystemid","default":"pedkai"},"sourceSystemId":{"type":"string","title":"Sourcesystemid","default":"pedkai"},"alarmedObject":{"$ref":"#/components/schemas/TMF642AlarmedObject"},"proposedRepairedActions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Proposedrepairedactions"},"correlatedAlarm":{"items":{"$ref":"#/components/schemas/TMF642AlarmRef"},"type":"array","title":"Correlatedalarm"},"comment":{"items":{"$ref":"#/components/schemas/TMF642Comment"},"type":"array","title":"Comment"},"@type":{"type":"string","title":"@Type","default":"Alarm"},"@baseType":{"type":"string","title":"@Basetype","default":"Entity"},"@schemaLocation":{"type":"string","title":"@Schemalocation","default":"https://raw.githubusercontent.com/tmforum-apis/TMF642_AlarmManagement/master/TMF642_AlarmManagement_v4.0.0.swagger.json"}},"type":"object","required":["id","alarmType","perceivedSeverity","state","ackState","eventTime","raisedTime","alarmedObject"],"title":"TMF642Alarm","description":"TMF642 Alarm Resource (v4.0.0)"},"TMF642AlarmRef":{"properties":{"id":{"type":"string","title":"Id"},"href":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Href"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},"type":"object","required":["id"],"title":"TMF642AlarmRef","description":"Lightweight reference to another alarm (for correlation)."},"TMF642AlarmUpdate":{"properties":{"ackState":{"anyOf":[{"$ref":"#/components/schemas/AckState"},{"type":"null"}]},"state":{"anyOf":[{"$ref":"#/components/schemas/AlarmState"},{"type":"null"}]},"perceivedSeverity":{"anyOf":[{"$ref":"#/components/schemas/PerceivedSeverity"},{"type":"null"}]},"comment":{"anyOf":[{"$ref":"#/components/schemas/TMF642Comment"},{"type":"null"}]}},"type":"object","title":"TMF642AlarmUpdate","description":"Schema for PATCH /alarm/{id}"},"TMF642AlarmedObject":{"properties":{"id":{"type":"string","title":"Id"},"href":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Href"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"@type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"@Type"}},"type":"object","required":["id"],"title":"TMF642AlarmedObject","description":"Reference to the entity that raised the alarm."},"TMF642Comment":{"properties":{"id":{"type":"string","title":"Id"},"time":{"type":"string","format":"date-time","title":"Time"},"system_id":{"type":"string","title":"System Id"},"text":{"type":"string","title":"Text"},"@type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"@Type"}},"type":"object","required":["id","system_id","text"],"title":"TMF642Comment","description":"Internal notes on the alarm."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"},"input":{"title":"Input"},"ctx":{"type":"object","title":"Context"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{"tmf642:alarm:read":"Read access to TMF642 Alarms","tmf642:alarm:write":"Write access to TMF642 Alarms (Acknowledge, Clear, Create)","capacity:plan:read":"Read access to Capacity Investment Plans","capacity:plan:write":"Create and Optimize Capacity Plans","cx:intelligence:read":"Read access to Customer Impact & Churn Risk","cx:intelligence:write":"Trigger Proactive Care Automation"},"tokenUrl":"api/v1/auth/token"}}}}}}